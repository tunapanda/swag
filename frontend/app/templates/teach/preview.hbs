<div class="p-4">

  <div id="chapter">
    <div class="row">
      <h4><b>Chapter Name: </b>{{this.model.name}} </h4>


    </div>
    {{#if (eq this.model.approved "true")}}

      <span class="badge badge-pill badge-success float right">Approved</span>
    {{else}}
      <span class="badge badge-pill badge-danger float right">Not Yet Approved</span>

    {{/if}}

    <div class="chapter-content mt-2">
      {{#if this.model.contentUri}}
        <H5p @location={{this.model.contentUri}} />
        <div class="mt-2">
          <LinkTo class="btn bg-orange" @route="teach.h5p-upload" @model={{this.model.id}}>
            Upload H5P
          </LinkTo>
        </div>
      {{else}}
        <div class="mt-2">
          <BsAlert @visible={{true}} @fade={{true}} @type="success" @dismissible={{false}}>
            <strong> H5P Missing! </strong> You need to upload a H5P file.

            <LinkTo class="btn bg-orange" @route="teach.h5p-upload" @model={{this.model.id}}>
              Upload H5P
            </LinkTo>

          </BsAlert>

        </div>

      {{/if}}

      {{#if this.model.imageUrl}}
        <div class="mt-2">
          <LinkTo @route="teach.thumbnail-upload" @model={{this.model.id}}>
            <button type="button" class="btn btn-primary">Change Thumbnail</button>
          </LinkTo>

        </div>
      {{else}}
        <BsAlert @visible={{true}} @fade={{true}} @type="success" @dismissible={{false}}>
          <strong> No Thumbnail! </strong> You need to upload a thumbnail.
          <LinkTo @route="teach.thumbnail-upload" @model={{this.model.id}} class="btn bg-orange">
            Upload Thumbnail
          </LinkTo>

        </BsAlert>

      {{/if}}

      <p><b>Description: </b>{{this.model.description}}</p>
      <p><b>Tags: </b></p>
      {{#each this.model.tags as |tag|}}
        <LinkTo @route="tag" @model={{tag}}>
          <span class="badge badge-pill badge-primary btn-lg">
            {{tag}}
          </span>
        </LinkTo>
      {{/each}}
      <br>
      <LinkTo @route="teach.tag" @model={{this.model.id}}>
        <button type="button" class="btn btn-primary mt-1 mb-1">Modify Tags</button>
      </LinkTo>


    </div>
  </div>

  <div class="text-center">
    {{#if (and this.model.contentUri this.model.imageUrl) }}


      {{#if (eq this.model.status "published")}}

        <button {{on "click" (fn this.unpublish this.model.id )}} type="button" class="btn form-control btn-danger">
          UnPublish {{this.model.name}}
        </button>
      {{else}}
        <button {{on "click" (fn this.publish this.model.id )}} type="button" class="btn form-control btn-success">
          Publish {{this.model.name}}
        </button>
      {{/if}}
    {{else}}
      <b>Publishing: </b>
      <div class="alert alert-primary" role="alert">
        <strong>Thumbnail and H5P required before publishing</strong>
      </div>
      <a href="#" class="btn  disabled form-control" role="button">Publish</a>


    {{/if}}

  </div>
</div>