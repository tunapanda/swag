{{#if session.isWorking}}
One sec while we get you signed in...
{{else}}
{{error}}
{{/if}}
<BsForm @class="form" @formLayout="vertical" @model={{registeredUser}} @onSubmit={{action "login"}} as |form|>
  {{#each registeredUser.errors as |err| }}
  {{#if (eq err.key "errors")}}
  <BsAlert @type="danger" @fade={{true}}>
    {{err.validation}}
  </BsAlert>
  {{/if}}
  {{/each}}

  <div class="login-form-fields">
    <form.element @autocomplete="on" id="username" @controlType="text" @label="Username" @placeholder="Username"
      @property="username" @autocomplete="username" />

    <form.element id="password" @controlType="password" @label="Password" @placeholder="Enter Password"
      @property="password" @autocomplete="new-password" />

  </div>

    {{#if loading}}
      <button class="bg-primary form-control" type="button">
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Authenticating...
      </button>
    {{else}}
      <BsButton class="bg-primary form-control" @defaultText="Login" type="submit">
      </BsButton>
      {{!-- <BsButton {{action 'authenticateWithFacebook'}} class="btn btn-primary" href="#"
        @defaultText="Login with Facebook" role="button"></BsButton> --}}
    {{/if}}

</BsForm>