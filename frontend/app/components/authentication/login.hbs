<div class="form-title">Log In</div>

{{#if session.isWorking}}
  One sec while we get you signed in...
{{else}}
  {{error}}
<a {{action 'authenticateWithFacebook'}} class="btn btn-primary" href="#" role="button">Login with Facebook</a>
{{/if}}

<BsForm @class="form" @formLayout="vertical" @model={{registeredUser}} @onSubmit={{action "login"}} as |form|>
  {{#each registeredUser.errors as |err| }}
    {{#if (eq err.key "errors")}}
      <BsAlert @type="danger" @fade={{true}}>
        {{err.validation}}
      </BsAlert>
    {{/if}}
  {{/each}}

  <div class="login-form-fields">
    <form.element class="inputs" id="username" @controlType="text" @label="Username" @placeholder="Username"
      @property="username" @autocomplete="username" />

    <form.element id="password" class="inputs" @controlType="password" @label="Password" @placeholder="Enter Password"
      @property="password" @autocomplete="new-password" />

  </div>

  <BsButton class="submit" @defaultText="Login" @buttonType="submit" @disabled={{form.isSubmitting}}
    @type={{if form.isRejected "danger" "primary"}}>
  </BsButton>
</BsForm>